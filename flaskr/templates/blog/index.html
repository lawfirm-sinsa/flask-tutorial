{% extends 'base.html' %}

{% block script %}

<script>

    $(document).ready(function(){						
        if ( getCookie('mytoken') != "" ) {									
        document.getElementById("blog_create").style.display="inline-block";        
        load_blog_posting()
        }
        else {
        document.getElementById("main_logout_btn").style.display="none";
        document.getElementById("main_login_btn").style.display="inline-block";
        load_blog_posting()
        }
    });
    
    function load_blog_posting() {
        $.ajax({
        type : 'GET',
        url : '/blog/get_posting',        
        data : {},
        success : function(response) {
            if (response['result'] == 'success') {
              let articles = response['articles'];
              for (let i=0; i<articles.length; i++) {
                make_list(articles[i]['author'],articles[i]['title'],articles[i]['body'],articles[i]['created_time'])    
              }            
            } else {
              alert('포스팅을 받아오지 못했습니다')
            }
          }     
        })
    }    
    
    function make_list(author, title, body, created_time) {
      let temp_html = `<tbody class="tabel-body-tbody">
          <td class="table-body-author">${author}</td>
          <td class="table-body-title">${title}</td>
          <td class="table-body-body">${body}</td>		      
          <td class="table-body-createdtime">${created_time}</td>		      
        </tbody>`;		          
        console.log(temp_html)
      $('#table_blog_posting').append(temp_html);
		}    

    function posting() {
        $.ajax({
        type : 'GET',
        url : '/blog/get_post',
        headers : {'token_give' : getCookie('mytoken')},
        data : {},
        success : function(response) {
            if (response['result'] == 'success') {
            document.getElementById("login_userinfo").innerHTML=response['username'];												
            } 
        }     
        })
    }
    
    function logout(){
        setCookie('mytoken', "");
        alert('로그아웃!')
        window.location.href='/auth/login'
    }          
</script>

{% endblock %}

{% block body_content %}

<div class="container-fluid">  
  <div class="row mt-4">
    <div class="col-sm-3">
      <div class="row">
        <div class="container">
          <p>카테고리</p>
        </div>
      </div>
      <div class="row">
        <div class="container">
          <p>-민사소송</p>
        </div>
        <div class="container">
          <p>-형사소송</p>
        </div>
        <div class="container">
          <p>-행정소송</p>
        </div>
      </div>
    </div>
    <div class="col-sm-9">
      <p>※ 변론 진행의 방향 및 재판결과 (=원고 패소)

          ​
          
          ▶ 필자는 우선 의뢰인(피고)가 암으로 투병 생활을 하면서 경제적 어려움을 겪고 있던 임차인 A에게 돈을 빌려주고 가족처럼 돌봐 왔던 사실을 입증하고자 노력하였습니다.
          
          ​
          
          - 의뢰인(피고)이 임차인 A에게 돈을 모두 계좌이체의 방법으로 빌려주었다면 아무런 문제가 없었겠지만, 계좌로 이체한 것은 극히 일부이고 대부분의 경우는 현금으로 돈을 빌려줬던 관계로, 이를 입증하기 쉽지 않았는데, 의뢰인(피고)의 계좌내역 전체를 확인하고, 해당 계좌에서 현금으로 돈이 인출된 내역을 발췌하여 의뢰인(피고)의 기억과 대조하는 방식으로 최대한 구체적으로 임차인 A에 대한 금전대여 사실을 특정하였습니다.
          
          ​
          
          - 또한 의뢰인(피고)이 임차인 A의 사망사실을 최초로 발견하고, 112에 신고한 사실을 112 신고사건 처리내역서를 통해 입증하였으며, 의뢰인(피고)이 청소업체를 통해 망인의 집을 청소하고 유품을 사후 정리하였던 사실을 청소업체 사장의 사실확인서와 현금영수증 등을 통해서 입증하였습니다.
          
          ​
          
          ▶ 다음으로 위 특약사항이 임차인 A의 진정한 의사와 달리 '의뢰인(피고)에게 보증금을 반환할 수 있다'고 기재된 구체적 경위와 그 진정한 의사는 특약사항의 문구와 달리 임대차보증금을 의뢰인(피고)에게 양도하는 것이었다는 점을 입증하고자 노력하였습니다.
          
          ​
          
          - 우선 위 특약사항이 작성될 당시에 현장에 있었던 임대인 B에게 제가 직접 전화를 하여, "무슨 이유로 위 특약사항을 작성하게 된 것인지?", "임차인 A가 구체적으로 임대인 B에게 무슨 말을 했었는지?", "임차인 A가 진정 원하는 것이 무었이었는지?" 등을 문의하였고, 임대인 B로부터 '임차인 A는 자신을 돌봐주었던 의뢰인(피고)에게 보증금을 주겠다는 명확히 말했는데, 법적인 내용을 잘 몰라서 특약사항에는 문구가 그렇게 들어간 것 뿐이다'는 취지의 답변을 받아 이를 법원에 제출하였습니다.
          
          ​
          
          - 다음으로 위 특약사항을 직접 작성하여 기재했던 공인중개사를 찾아가 해당 문구가 기재된 경위를 문의하였고, 공인중개사로부터 '오래된 일이라 정확히 기억은 나지 않지만, 임차인 A가 보증금을 의뢰인(피고)에게 주고 싶다는 의사는 명확했으나, 아마도 임대인 B를 보호하고자 하는 목적에서, 특약사항 문구를 그렇게 쓴 것으로 기억한다'는 취지로 답변을 받았습니다.
          
          ​
          
          ▶ 이러한 입증을 바탕으로, 특약사항의 형식적 문구에도 불구하고, 이는 임차인 A의 사망을 정지조건으로 하는 임차보증금 반환채권의 양도로 해석해야 한다는 취지로 주장하였고, 재판부는 이를 받아들여 '이 사건 특약의 법률적 의미는 임차인 A가 사망하거나, 사망과 같이 볼 수 있을 정도로 건강이 악화된 경우 위 임대차보증금 반환채권을 피고에게 양도한다는 사인증여계약의 일종인 사인채권양도로 보아야 할 것이고, 임대차계약서에 그 내용을 함께 기재함으로써 채무자인 임대인 B에 대한 통지도 이루어졌다고 할 것이다. 따라서 임차인 A의 사망과 동시에 위 임대차보증금 반환채권은 확정적으로 피고에게 양도되었다고 할 것이므로, 이 사건 특약의 해석에 있어서 이와 다른 전제에 선 원고들의 주장은 모두 받아들일 수 없다'고 판시하여, 원고 패소 판결을 내렸습니다.</p>
    </div>
  </div>
  

<div class="row">
    <div class="col">
      <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
        <div class="col p-4 d-flex flex-column position-static">
          <strong class="d-inline-block mb-2 text-primary">World</strong>
          <h3 class="mb-0">Featured post</h3>
          <div class="mb-1 text-muted">Nov 12</div>
          <p class="card-text mb-auto">This is a wider card with supporting text below as a natural lead-in to additional content.</p>
          <a href="#" class="stretched-link">Continue reading</a>
        </div>
        <div class="col-auto d-none d-lg-block">
          <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
        <div class="col p-4 d-flex flex-column position-static">
          <strong class="d-inline-block mb-2 text-success">Design</strong>
          <h3 class="mb-0">Post title</h3>
          <div class="mb-1 text-muted">Nov 11</div>
          <p class="mb-auto">This is a wider card with supporting text below as a natural lead-in to additional content.</p>
          <a href="#" class="stretched-link">Continue reading</a>
        </div>
        <div class="col-auto d-none d-lg-block">
          <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
        </div>
      </div>
    </div>
  </div>
  
<div> 
    <button id="blog_create" class="btn btn-lg btn-primary btn-block blog_submit_btn text-uppercase font-weight-bold mb-2" onclick="location.href='{{ url_for('blog.create') }}'">>글쓰기</button>             
</div>	

<div class="card-columns" id="cards-box">

</div>

{% endblock %}
